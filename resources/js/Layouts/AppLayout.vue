<template>
    <div ref="main_container" :class="'h-screen flex bg-default ' + after_body_class" @click="clickMainContainer()">
        <!-- Static sidebar for desktop -->
        <div class="hidden md:flex md:flex-shrink-0">
            <div class="flex flex-col justify-between w-76 left-sidebar"
                 :class="{
                    'small-menu': isMenuHide == true && !isUrlContain('notes'),
                    'small-menu_very': isMenuHide == true && isUrlContain('chapters'),
                    'bg-semilight': !$page.notes,
                    'bg-default': $page.notes
                }">
                <div>
                    <div class="flex flex-col relative">
                        <div v-if="!$page.notes" class="small-menu-button" @click="hideMenu(!isMenuHide)">
                            <svg v-if="isMenuHide == true" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="6" height="9" viewBox="0 0 6 9">
                                <defs>
                                    <path id="9mp5pnrhca" d="M4.167 2.988L1.423.244C1.097-.08.57-.08.244.244c-.325.326-.325.853 0 1.179l3.333 3.333c.326.325.853.325 1.179 0l3.333-3.333c.326-.326.326-.853 0-1.179-.325-.325-.853-.325-1.178 0L4.167 2.988z"/>
                                </defs>
                                <g fill="none" fill-rule="evenodd">
                                    <g>
                                        <g>
                                            <g>
                                                <g transform="translate(-287 -108) translate(252 84) rotate(-90 34 -1.5)">
                                                    <use fill="#4E4D4B" xlink:href="#9mp5pnrhca"/>
                                                </g>
                                            </g>
                                        </g>
                                    </g>
                                </g>
                            </svg>
                            <svg v-else xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="6" height="9" viewBox="0 0 6 9">
                                <defs>
                                    <path id="qbz8nczqla" d="M4.167 2.988L1.423.244C1.097-.08.57-.08.244.244c-.325.326-.325.853 0 1.179l3.333 3.333c.326.325.853.325 1.179 0l3.333-3.333c.326-.326.326-.853 0-1.179-.325-.325-.853-.325-1.178 0L4.167 2.988z"/>
                                </defs>
                                <g fill="none" fill-rule="evenodd">
                                    <g>
                                        <g>
                                            <g transform="translate(-110 -108) translate(75 84) matrix(0 -1 -1 0 40.5 32.5)">
                                                <use fill="#4E4D4B" xlink:href="#qbz8nczqla"/>
                                            </g>
                                        </g>
                                    </g>
                                </g>
                            </svg>
                        </div>

                        <div v-if="isUrlContain('notes') || isUrlContain('chapters')" class="overflow-hidden">
                            <notes-menu v-if="isUrlContain('notes')"></notes-menu>
                            <writing-menu v-if="isUrlContain('chapters')"></writing-menu>
                        </div>
                        <div v-else class="overflow-hidden">
                            <a href="/scriptorium" class="mt-4 mb-6 flex items-center justify-center flex-shrink-0 px-4">
                                <svg v-if="isMenuHide == true" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="37" height="48" viewBox="0 0 37 48">
                                    <defs>
                                        <linearGradient id="nwn8g9eh4b" x1="100%" x2="100%" y1="2.765%" y2="135.902%">
                                            <stop offset="0%" stop-color="#7D7E79"/>
                                            <stop offset="100%" stop-color="#FFFCF8"/>
                                        </linearGradient>
                                        <linearGradient id="1cspe46fcd" x1="28.935%" x2="80.111%" y1="37.783%" y2="81.956%">
                                            <stop offset="0%" stop-color="#6B6B6A"/>
                                            <stop offset="100%" stop-color="#92928E"/>
                                        </linearGradient>
                                        <linearGradient id="dgpdfohd2e" x1="51.722%" x2="45.505%" y1="11.457%" y2="94.07%">
                                            <stop offset="0%" stop-color="#B5B5B1"/>
                                            <stop offset="100%" stop-color="#E4E3DF"/>
                                        </linearGradient>
                                        <linearGradient id="wx7wdhenbg" x1="27.031%" x2="90.987%" y1="60.894%" y2="-41.779%">
                                            <stop offset="0%" stop-color="#BCB6AA"/>
                                            <stop offset="100%" stop-color="#F6F5EF"/>
                                        </linearGradient>
                                        <linearGradient id="cfpzxptpxj" x1="99.982%" x2="99.982%" y1="5.809%" y2="104.162%">
                                            <stop offset="0%" stop-color="#EAE6DF"/>
                                            <stop offset="100%" stop-color="#BCB6AA"/>
                                        </linearGradient>
                                        <path id="dim2clzgra" d="M5.613 23.386c.04-2.204.635-2.685 1.524-3.438.662-.562 1.11-1 1.149-2.828.055-2.581-2.416-4.285-4.335-4.334-2.146-.055-3.53 1.546-3.94 2.527C2.85 8.051 11.62.375 11.945.018c1.754 7.614 7.903 14.313 10.029 15.594-7.712 9.482-14.03 24.648-16.68 31.557h-.187V23.892c.323 0 .5-.182.506-.506"/>
                                        <path id="747rlgut9f" d="M26.063.56c.168.347-7.459 5.649-11.993 15.454-2.295 4.963-3.695 10.924-3.102 18.296l-.613-1.262C7.468 27.168 3.937 20.947.051 16.17 2.178 14.888 8.333 8.181 10.084.56 12.747.25 15.41.07 18.073.056c2.663.012 5.326.192 7.99.503"/>
                                        <path id="c4ybnr59pi" d="M2.964 2.075c.01 3.639 2.706 1.835 2.67 6.075-.002.323.183.505.506.505v23.277h-.187C4.64 28.504 3.034 24.307.191 18.517-.313 13.044.53 5.107 3.356.077c-.307.65-.394 1.23-.392 1.998"/>
                                    </defs>
                                    <g fill="none" fill-rule="evenodd">
                                        <g>
                                            <g>
                                                <g>
                                                    <path fill="#FFF" d="M19.416 47.726c2.65-6.909 8.967-22.075 16.68-31.557-2.128-1.281-8.283-7.988-10.033-15.61-2.664-.31-5.327-.49-7.99-.503-2.663.012-5.326.192-7.99.503C8.334 8.181 2.179 14.888.052 16.17c7.712 9.482 14.03 24.648 16.68 31.557h.186V24.45c-.278 0-.505-.227-.505-.505 0-4.329-2.673-2.351-2.673-6.266 0-2.394 1.94-4.335 4.334-4.335 2.394 0 4.334 1.94 4.334 4.335 0 3.915-2.672 1.937-2.672 6.266 0 .278-.228.505-.506.505v23.277h.187z" transform="translate(-35 -20) translate(35 20)"/>
                                                    <g transform="translate(-35 -20) translate(35 20) translate(14.122 .557)">
                                                        <mask id="y57lm7vqcc" fill="#fff">
                                                            <use xlink:href="#dim2clzgra"/>
                                                        </mask>
                                                        <path fill="url(#nwn8g9eh4b)" d="M5.613 23.386c.04-2.204.635-2.685 1.524-3.438.662-.562 1.11-1 1.149-2.828.055-2.581-2.416-4.285-4.335-4.334-2.146-.055-3.53 1.546-3.94 2.527C2.85 8.051 11.62.375 11.945.018c1.754 7.614 7.903 14.313 10.029 15.594-7.712 9.482-14.03 24.648-16.68 31.557h-.187V23.892c.323 0 .5-.182.506-.506" mask="url(#y57lm7vqcc)"/>
                                                    </g>
                                                    <path fill="url(#1cspe46fcd)" d="M22.154 16.219c6.672 4.336 13.942-.05 13.942-.05-2.127-1.28-8.275-7.98-10.03-15.594-.214.306-8.76 7.521-11.933 15.295.892-1.778 2.444-2.576 4.192-2.52 1.623.053 3.435 1.647 3.829 2.869" transform="translate(-35 -20) translate(35 20)"/>
                                                    <path fill="url(#dgpdfohd2e)" d="M27.46 29.758c-1.288-3.192-3.104-6.46-5.94-9.483-1.271 1.072-1.756 1.41-1.787 3.712-.005.323-.181.462-.504.462v23.277h.187c1.561-4.072 4.398-11.013 8.043-17.968" transform="translate(-35 -20) translate(35 20)"/>
                                                    <g transform="translate(-35 -20) translate(35 20)">
                                                        <mask id="hvkcuk4ywh" fill="#fff">
                                                            <use xlink:href="#747rlgut9f"/>
                                                        </mask>
                                                        <path fill="url(#wx7wdhenbg)" d="M26.063.56c.168.347-7.459 5.649-11.993 15.454-2.295 4.963-3.695 10.924-3.102 18.296l-.613-1.262C7.468 27.168 3.937 20.947.051 16.17 2.178 14.888 8.333 8.181 10.084.56 12.747.25 15.41.07 18.073.056c2.663.012 5.326.192 7.99.503" mask="url(#hvkcuk4ywh)"/>
                                                    </g>
                                                    <path fill="#EAE6DF" d="M26.066.575C14.848 4.024 14.646 14.202.054 16.185 3.94 20.962 7.472 27.183 10.36 33.064l.61 1.246c-.666-10.45 2.173-17.592 5.6-22.859 3.443-5.293 7.48-8.69 9.497-10.876" transform="translate(-35 -20) translate(35 20)"/>
                                                    <g transform="translate(-35 -20) translate(35 20) translate(10.777 15.794)">
                                                        <mask id="kfi3tvuwak" fill="#fff">
                                                            <use xlink:href="#c4ybnr59pi"/>
                                                        </mask>
                                                        <path fill="url(#cfpzxptpxj)" d="M2.964 2.075c.01 3.639 2.706 1.835 2.67 6.075-.002.323.183.505.506.505v23.277h-.187C4.64 28.504 3.034 24.307.191 18.517-.313 13.044.53 5.107 3.356.077c-.307.65-.394 1.23-.392 1.998" mask="url(#kfi3tvuwak)"/>
                                                    </g>
                                                </g>
                                            </g>
                                        </g>
                                    </g>
                                </svg>

                                <svg v-else style="height: 52px;" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="140" height="61" viewBox="0 0 140 61">
                                    <defs>
                                        <linearGradient id="3tqz95lgkb" x1="100%" x2="100%" y1="2.765%" y2="135.902%">
                                            <stop offset="0%" stop-color="#7D7E79"></stop>
                                            <stop offset="100%" stop-color="#FFFCF8"></stop>
                                        </linearGradient>
                                        <linearGradient id="imbdiokd4d" x1="28.935%" x2="80.111%" y1="37.783%" y2="81.956%">
                                            <stop offset="0%" stop-color="#6B6B6A"></stop>
                                            <stop offset="100%" stop-color="#92928E"></stop>
                                        </linearGradient>
                                        <linearGradient id="976pj6wo0e" x1="51.722%" x2="45.505%" y1="11.457%" y2="94.07%">
                                            <stop offset="0%" stop-color="#B5B5B1"></stop>
                                            <stop offset="100%" stop-color="#E4E3DF"></stop>
                                        </linearGradient>
                                        <linearGradient id="nlfncfk2ug" x1="27.031%" x2="90.987%" y1="60.894%" y2="-41.779%">
                                            <stop offset="0%" stop-color="#BCB6AA"></stop>
                                            <stop offset="100%" stop-color="#F6F5EF"></stop>
                                        </linearGradient>
                                        <linearGradient id="kojm8lp1mj" x1="99.982%" x2="99.982%" y1="5.809%" y2="104.162%">
                                            <stop offset="0%" stop-color="#EAE6DF"></stop>
                                            <stop offset="100%" stop-color="#BCB6AA"></stop>
                                        </linearGradient>
                                        <path id="tyw7diuoma" d="M7.144 29.764c.05-2.804.808-3.417 1.939-4.376.843-.715 1.412-1.273 1.462-3.599.071-3.285-3.074-5.453-5.516-5.516-2.732-.07-4.494 1.968-5.015 3.216C3.628 10.247 14.79.477 15.202.022 17.436 9.714 25.261 18.24 27.967 19.87 18.15 31.938 10.11 51.24 6.738 60.033H6.5V30.408c.411 0 .636-.232.644-.644"></path>
                                        <path id="ebsv35r2lf" d="M33.17.712c.215.442-9.492 7.19-15.263 19.67-2.921 6.316-4.703 13.903-3.947 23.286l-.78-1.607C9.505 34.577 5.01 26.66.064 20.58c2.708-1.63 10.542-10.167 12.77-19.867C16.224.316 19.613.087 23.002.07c3.39.016 6.78.245 10.169.64"></path>
                                        <path id="otedmt7wui" d="M3.773 2.64c.013 4.632 3.444 2.336 3.398 7.732-.003.411.233.644.644.644V40.64h-.238C5.904 36.278 3.862 30.936.243 23.567-.398 16.602.673 6.5 4.271.097c-.39.828-.501 1.567-.498 2.544"></path>
                                    </defs>
                                    <g fill="none" fill-rule="evenodd">
                                        <g>
                                            <g>
                                                <g>
                                                    <path fill="#FFF" d="M24.711 60.742C28.083 51.95 36.124 32.648 45.94 20.58 43.232 18.949 35.398 10.412 33.17.712 29.782.316 26.393.087 23.003.07c-3.39.016-6.779.245-10.168.64-2.228 9.7-10.062 18.237-12.77 19.868 9.816 12.068 17.857 31.37 21.23 40.163h.237V31.117c-.354 0-.644-.29-.644-.643 0-5.51-3.401-2.992-3.401-7.975 0-3.047 2.47-5.516 5.516-5.516 3.047 0 5.516 2.47 5.516 5.516 0 4.983-3.401 2.466-3.401 7.975 0 .354-.29.643-.644.643v29.625h.238z" transform="translate(-75 -36) translate(75 36)"></path>
                                                    <g transform="translate(-75 -36) translate(75 36) translate(17.973 .71)">
                                                        <mask id="vq4qbmv3kc" fill="#fff">
                                                            <use xlink:href="#tyw7diuoma"></use>
                                                        </mask>
                                                        <path fill="url(#3tqz95lgkb)" d="M7.144 29.764c.05-2.804.808-3.417 1.939-4.376.843-.715 1.412-1.273 1.462-3.599.071-3.285-3.074-5.453-5.516-5.516-2.732-.07-4.494 1.968-5.015 3.216C3.628 10.247 14.79.477 15.202.022 17.436 9.714 25.261 18.24 27.967 19.87 18.15 31.938 10.11 51.24 6.738 60.033H6.5V30.408c.411 0 .636-.232.644-.644" mask="url(#vq4qbmv3kc)"></path>
                                                    </g>
                                                    <path fill="url(#imbdiokd4d)" d="M28.196 20.642c8.491 5.52 17.744-.063 17.744-.063-2.706-1.63-10.531-10.156-12.765-19.847-.272.39-11.15 9.572-15.188 19.467 1.135-2.263 3.11-3.28 5.335-3.207 2.066.066 4.373 2.095 4.874 3.65" transform="translate(-75 -36) translate(75 36)"></path>
                                                    <path fill="url(#976pj6wo0e)" d="M34.948 37.873c-1.638-4.062-3.95-8.22-7.558-12.069-1.619 1.364-2.236 1.796-2.276 4.725-.005.412-.23.588-.64.588v29.625h.237C26.7 55.56 30.31 46.725 34.948 37.873" transform="translate(-75 -36) translate(75 36)"></path>
                                                    <g transform="translate(-75 -36) translate(75 36)">
                                                        <mask id="pnm9dbl14h" fill="#fff">
                                                            <use xlink:href="#ebsv35r2lf"></use>
                                                        </mask>
                                                        <path fill="url(#nlfncfk2ug)" d="M33.17.712c.215.442-9.492 7.19-15.263 19.67-2.921 6.316-4.703 13.903-3.947 23.286l-.78-1.607C9.505 34.577 5.01 26.66.064 20.58c2.708-1.63 10.542-10.167 12.77-19.867C16.224.316 19.613.087 23.002.07c3.39.016 6.78.245 10.169.64" mask="url(#pnm9dbl14h)"></path>
                                                    </g>
                                                    <path fill="#EAE6DF" d="M33.175.732C18.897 5.12 18.641 18.075.07 20.599c4.946 6.08 9.44 13.998 13.115 21.482l.776 1.587c-.846-13.3 2.766-22.39 7.127-29.094C25.469 7.837 30.609 3.514 33.175.732" transform="translate(-75 -36) translate(75 36)"></path>
                                                    <g transform="translate(-75 -36) translate(75 36) translate(13.716 20.101)">
                                                        <mask id="1or88v9j1k" fill="#fff">
                                                            <use xlink:href="#otedmt7wui"></use>
                                                        </mask>
                                                        <path fill="url(#kojm8lp1mj)" d="M3.773 2.64c.013 4.632 3.444 2.336 3.398 7.732-.003.411.233.644.644.644V40.64h-.238C5.904 36.278 3.862 30.936.243 23.567-.398 16.602.673 6.5 4.271.097c-.39.828-.501 1.567-.498 2.544" mask="url(#1or88v9j1k)"></path>
                                                    </g>
                                                </g>
                                                <path fill="#656564" d="M75.547 27.36l4.728-14.17h1.233v-.672H77.43v.671h1.976l-3.487 10.583-3.833-10.608 1.98.025v-.67h-5.74l1.882 4.875-2.427 6.602-3.88-10.807h1.976v-.67h-6.703v.67h1.237l4.748 12.267c.397 1.005.743 1.591 1.039 1.756.181.097.413.148.696.148h.494l3.263-8.856 2.672 6.952c.397 1.005.743 1.591 1.038 1.756.182.097.414.148.693.148h.493zm12.862-.642h-1.832v-5.344c.118-1.73.536-2.786 1.262-3.166.114-.05.224-.076.321-.076.182 0 .38.19.595.57.296.528.617.857.963.992.164.047.346.072.544.072.659 0 1.131-.312 1.41-.941.101-.211.148-.435.148-.667 0-.823-.401-1.343-1.212-1.558-.198-.05-.4-.072-.616-.072-1.021 0-1.92.401-2.697 1.212-.346.392-.608.823-.79 1.283l-.173-2.3h-4.33v.645h1.435v8.063c0 .726-.287 1.135-.866 1.236-.164.034-.354.051-.57.051v.642h7c0-.38-.106-.587-.322-.62-.08-.013-.173-.022-.27-.022zm9.645 0h-.916v-9.995h-4.571v.645h1.43v8.063c0 .726-.286 1.135-.864 1.236-.165.034-.355.051-.566.051v.642h6.083c0-.38-.106-.587-.321-.62-.085-.013-.173-.022-.275-.022zm-.692-13.233c0-.726-.32-1.262-.962-1.608-.283-.165-.579-.25-.891-.25-.71 0-1.245.326-1.608.967-.148.279-.224.579-.224.89 0 .727.32 1.255.967 1.584.278.148.565.224.865.224.726 0 1.262-.309 1.608-.916.165-.283.245-.579.245-.891zm2.153 4.006h1.705v6.184c0 2.389.992 3.702 2.968 3.934.198.012.396.02.595.02 1.27 0 2.144-.409 2.621-1.236.232-.41.414-.954.545-1.63l-.667-.1c-.33 1.337-.82 2.072-1.46 2.203-.098.017-.2.025-.296.025-.612 0-.984-.43-1.115-1.287-.034-.199-.05-.406-.05-.62V17.49h3.267v-.642h-3.267v-2.87l-3.14.519v2.351h-1.706v.642zm14.837-.494c1.055.034 1.591.933 1.608 2.697 0 .773-.228 1.25-.692 1.431-.33.118-.823.156-1.482.127l-1.583-.076c.114-2.735.832-4.128 2.149-4.18zm4.626 7.813l-.595-.194c-.46 1.005-1.186 1.688-2.174 2.051-.397.148-.802.224-1.211.224-1.321 0-2.17-.844-2.55-2.524-.147-.692-.232-1.515-.245-2.474l2.276.076c2.655.08 4.195-.337 4.622-1.262.101-.232.147-.485.147-.768 0-1.401-.713-2.423-2.148-3.065-.81-.346-1.727-.519-2.748-.519-1.862 0-3.314.633-4.352 1.904-.79.988-1.186 2.216-1.186 3.685 0 2.39.899 4.056 2.697 4.994.857.447 1.828.67 2.917.67 1.929 0 3.314-.679 4.153-2.03.165-.249.3-.502.397-.768zm7.767 1.908h-1.832v-5.344c.118-1.73.536-2.786 1.262-3.166.114-.05.224-.076.321-.076.182 0 .38.19.595.57.296.528.616.857.963.992.164.047.346.072.544.072.659 0 1.131-.312 1.41-.941.101-.211.148-.435.148-.667 0-.823-.401-1.343-1.212-1.558-.198-.05-.4-.072-.616-.072-1.022 0-1.92.401-2.697 1.212-.346.392-.608.823-.79 1.283l-.173-2.3h-4.33v.645h1.435v8.063c0 .726-.287 1.135-.866 1.236-.164.034-.354.051-.57.051v.642h6.999c0-.38-.105-.587-.32-.62-.081-.013-.174-.022-.27-.022zm8.383.198c1.106 0 1.743-.396 1.908-1.19.017-.114.021-.224.021-.32 0-.84-.527-1.541-1.583-2.103-.228-.13-.6-.304-1.11-.519-1.237-.544-2.055-1.047-2.448-1.507-.43-.498-.646-1.08-.646-1.756 0-1.401.768-2.351 2.3-2.845.646-.215 1.364-.32 2.153-.32 1.288 0 2.292.227 3.018.692 0-.499.148-.769.444-.82.067-.016.135-.025.198-.025v3.094h-.79c-.067-1.502-.881-2.258-2.447-2.275-1.056 0-1.71.346-1.955 1.039-.05.164-.076.329-.076.493 0 .71.494 1.313 1.486 1.807.198.114.528.27.988.469 1.287.578 2.144 1.106 2.575 1.583.493.561.738 1.228.738 2.005 0 1.435-.738 2.397-2.224 2.891-.612.198-1.296.3-2.052.3-1.452 0-2.672-.258-3.664-.769 0 .427-.105.676-.32.743-.098.017-.212.026-.347.026v-3.761h.845c.03 2.026 1.03 3.052 2.988 3.068zM79.038 31.795H73.72l-4.428 10.637-5.196-10.637h-4.424v.671h1.975V45.97h-1.975v.667h4.993c-.097-.413-.32-.633-.666-.667h-1.313v-9.324l5.272 10.24h.443l5.319-12.663V45.97h-1.98v.667h7.298c-.101-.413-.325-.633-.67-.667h-1.31V32.466h1.98v-.67zm9.84 15.09c1.207 0 1.954-.439 2.254-1.312.097-.33.173-.752.22-1.262l-.642-.026c-.098 1.14-.389 1.718-.866 1.73-.363-.029-.544-.442-.544-1.236v-5.166c0-2.06-.954-3.331-2.87-3.808-.494-.118-1.03-.173-1.605-.173-2.245 0-3.655.485-4.23 1.456-.151.25-.223.511-.223.794 0 .642.304 1.047.916 1.211.148.051.304.072.469.072.709 0 1.186-.346 1.435-1.038.034-.097.08-.262.148-.494.181-.659.413-1.072.692-1.237.181-.08.388-.122.62-.122.773 0 1.241.468 1.406 1.41.067.346.101.76.101 1.236v1.608c-4.238.08-6.365 1.203-6.382 3.365 0 1.464.646 2.406 1.929 2.82.38.113.802.172 1.262.172 1.401 0 2.431-.527 3.09-1.582.135-.216.24-.44.325-.672.346 1.419 1.178 2.17 2.495 2.254zm-4.623-1.063c-.827-.034-1.245-.768-1.262-2.204 0-1.089.444-1.798 1.334-2.127.481-.148 1.09-.236 1.832-.27v2.397c-.312 1.157-.814 1.866-1.507 2.128-.152.05-.283.076-.397.076zm12.267 4.87v-4.946c.646.726 1.625 1.106 2.946 1.14 1.63 0 2.942-.63 3.93-1.883.828-1.09 1.237-2.44 1.237-4.057 0-2.093-.625-3.609-1.878-4.55-.676-.51-1.452-.764-2.326-.764-1.317 0-2.39.485-3.217 1.456-.329.397-.574.828-.738 1.288l-.127-2.377h-4.377v.646h1.41v12.76c0 .71-.27 1.123-.815 1.237-.182.034-.38.05-.595.05v.642h6.433c0-.38-.11-.582-.321-.616-.101-.017-.199-.025-.3-.025h-1.262zm2.6-13.874c1.419.034 2.128 1.532 2.128 4.5-.017 3.25-.785 4.88-2.3 4.896-.891 0-1.563-.544-2.006-1.629-.295-.76-.443-1.693-.443-2.794 0-2.065.443-3.53 1.334-4.403.397-.38.823-.57 1.287-.57z" transform="translate(-75 -36) translate(75 36)"></path>
                                            </g>
                                        </g>
                                    </g>
                                </svg>
                            </a>
                            <!-- Sidebar component, swap this element with another sidebar if you like -->
                            <nav class="">
                                <div class="flex-1 px-2 bg-semilight flex flex-col items-center nav-sidebar" v-if="isBookMenu">
                                    <a :href="'/books/' + bookId + '/pages'"
                                       class="menu-link w-48 group flex items-center px-2 py-2 focus:outline-none transition duration-75 ease-in-out" :class="{ 'active': isUrlContain('pages') }">
                                        <svg class="mr-12 h-5 nav-sidebar__icon nav-sidebar__icon_fill transition duration-75 ease-in-out" xmlns="http://www.w3.org/2000/svg" width="17" height="18" viewBox="0 0 17 18">
                                            <g fill="none" fill-rule="evenodd">
                                                <g fill="#BEBDB8" fill-rule="nonzero">
                                                    <g>
                                                        <g>
                                                            <g>
                                                                <path d="M16.2 6.246c-.01-.083-.027-.164-.054-.243v-.081c-.043-.093-.101-.178-.171-.252l-5.4-5.4c-.074-.07-.16-.128-.252-.171-.027-.004-.054-.004-.081 0C10.151.047 10.05.013 9.945 0H6.3C4.809 0 3.6 1.209 3.6 2.7v.9h-.9C1.209 3.6 0 4.809 0 6.3v9C0 16.791 1.209 18 2.7 18h7.2c1.491 0 2.7-1.209 2.7-2.7v-.9h.9c1.491 0 2.7-1.209 2.7-2.7V6.3v-.054zm-5.4-3.177L13.131 5.4H11.7c-.497 0-.9-.403-.9-.9V3.069zm0 12.231c0 .497-.403.9-.9.9H2.7c-.497 0-.9-.403-.9-.9v-9c0-.497.403-.9.9-.9h.9v6.3c0 1.491 1.209 2.7 2.7 2.7h4.5v.9zm3.6-3.6c0 .497-.403.9-.9.9H6.3c-.497 0-.9-.403-.9-.9v-9c0-.497.403-.9.9-.9H9v2.7c0 1.491 1.209 2.7 2.7 2.7h2.7v4.5z" transform="translate(-48 -143) translate(0 1) translate(46 141) translate(2 1)"/>
                                                            </g>
                                                        </g>
                                                    </g>
                                                </g>
                                            </g>
                                        </svg>
                                        <span class="menu-link-title">Pages</span>
                                    </a>

                                    <a :href="'/books/' + bookId + '/story-plan'"
                                       :class="{ 'active': isUrlContain('story-plan') }"
                                       class="menu-link w-48 group flex items-center px-2 py-2 focus:outline-none transition duration-75 ease-in-out">
                                        <svg class="mr-12 h-5 nav-sidebar__icon nav-sidebar__icon_fill transition duration-75 ease-in-out" xmlns="http://www.w3.org/2000/svg" width="18" height="11" viewBox="0 0 18 11">
                                            <g fill="none" fill-rule="evenodd">
                                                <g fill="#BEBDB8" fill-rule="nonzero">
                                                    <g>
                                                        <g>
                                                            <g>
                                                                <path d="M1.539 9.261c-.086-.082-.187-.146-.297-.189-.22-.09-.465-.09-.684 0-.11.043-.211.107-.297.189-.082.086-.146.187-.189.297-.14.335-.066.722.189.981.087.08.188.143.297.189.218.096.466.096.684 0 .11-.046.21-.11.297-.189.255-.259.33-.646.189-.981-.043-.11-.107-.211-.189-.297zM4.5 1.8h12.6c.497 0 .9-.403.9-.9s-.403-.9-.9-.9H4.5c-.497 0-.9.403-.9.9s.403.9.9.9zM1.539 4.761c-.259-.255-.646-.33-.981-.189-.11.046-.21.11-.297.189-.082.086-.146.187-.189.297-.096.218-.096.466 0 .684.046.11.11.21.189.297.087.08.188.143.297.189.218.096.466.096.684 0 .11-.046.21-.11.297-.189.08-.087.143-.188.189-.297.096-.218.096-.466 0-.684-.043-.11-.107-.211-.189-.297zM17.1 4.5H4.5c-.497 0-.9.403-.9.9s.403.9.9.9h12.6c.497 0 .9-.403.9-.9s-.403-.9-.9-.9zM1.539.261C1.453.179 1.352.115 1.242.072.907-.068.52.006.261.261.181.348.118.449.072.558c-.096.218-.096.466 0 .684.046.11.11.21.189.297.087.08.188.143.297.189.335.14.722.066.981-.189.08-.087.143-.188.189-.297.096-.218.096-.466 0-.684-.046-.11-.11-.21-.189-.297zM17.1 9H4.5c-.497 0-.9.403-.9.9s.403.9.9.9h12.6c.497 0 .9-.403.9-.9s-.403-.9-.9-.9z" transform="translate(-47 -225) translate(0 1) translate(46 141) translate(1 83)"/>
                                                            </g>
                                                        </g>
                                                    </g>
                                                </g>
                                            </g>
                                        </svg>
                                        <span class="menu-link-title">Story Plan</span>
                                    </a>

                                    <a :href="'/books/' + bookId + '/breakdown/characters'"
                                       class="menu-link w-48 group flex items-center px-2 py-2 focus:outline-none transition duration-75 ease-in-out" :class="{ 'active': isUrlContain('breakdown') }">
                                        <svg class="mr-12 h-5 nav-sidebar__icon nav-sidebar__icon_fill transition duration-75 ease-in-out" xmlns="http://www.w3.org/2000/svg" width="18" height="17" viewBox="0 0 18 17">
                                            <g fill="none" fill-rule="evenodd">
                                                <g fill="#8D8C89" fill-rule="nonzero">
                                                    <g>
                                                        <g>
                                                            <g>
                                                                <path d="M7.2 7.2H.9c-.497 0-.9.403-.9.9s.403.9.9.9h6.3c.497 0 .9-.403.9-.9s-.403-.9-.9-.9zm0 7.2H.9c-.497 0-.9.403-.9.9s.403.9.9.9h6.3c.497 0 .9-.403.9-.9s-.403-.9-.9-.9zm3.6-12.6h6.3c.497 0 .9-.403.9-.9s-.403-.9-.9-.9h-6.3c-.497 0-.9.403-.9.9s.403.9.9.9zM7.2 3.6H.9c-.497 0-.9.403-.9.9s.403.9.9.9h6.3c.497 0 .9-.403.9-.9s-.403-.9-.9-.9zm0 7.2H.9c-.497 0-.9.403-.9.9s.403.9.9.9h6.3c.497 0 .9-.403.9-.9s-.403-.9-.9-.9zM7.2 0H4.5c-.497 0-.9.403-.9.9s.403.9.9.9h2.7c.497 0 .9-.403.9-.9S7.697 0 7.2 0zm9.9 3.6h-6.3c-.497 0-.9.403-.9.9s.403.9.9.9h6.3c.497 0 .9-.403.9-.9s-.403-.9-.9-.9zm0 3.6h-6.3c-.497 0-.9.403-.9.9s.403.9.9.9h6.3c.497 0 .9-.403.9-.9s-.403-.9-.9-.9zm-3.6 7.2h-2.7c-.497 0-.9.403-.9.9s.403.9.9.9h2.7c.497 0 .9-.403.9-.9s-.403-.9-.9-.9zm3.6-3.6h-6.3c-.497 0-.9.403-.9.9s.403.9.9.9h6.3c.497 0 .9-.403.9-.9s-.403-.9-.9-.9z" transform="translate(-47 -298) translate(0 1) translate(46 141) translate(1 156)"/>
                                                            </g>
                                                        </g>
                                                    </g>
                                                </g>
                                            </g>
                                        </svg>
                                        <span class="menu-link-title">Breakdown</span>
                                    </a>

                                    <a :href="'/books/' + bookId + '/characters'"
                                       :class="{ 'active': isUrlContain('characters') && !isUrlContain('breakdown') }"
                                       class="menu-link w-48 group flex items-center px-2 py-2 focus:outline-none transition duration-75 ease-in-out">
                                        <svg class="mr-12 h-5 nav-sidebar__icon nav-sidebar__icon_fill transition duration-75 ease-in-out" xmlns="http://www.w3.org/2000/svg" width="20" height="16" viewBox="0 0 20 16">
                                            <g fill="none" fill-rule="evenodd">
                                                <g fill="#BEBDB8" fill-rule="nonzero">
                                                    <g>
                                                        <g>
                                                            <g>
                                                                <path d="M10.273 8.382c.981-.85 1.545-2.084 1.545-3.382 0-2.51-2.035-4.545-4.545-4.545S2.727 2.49 2.727 5c0 1.298.564 2.532 1.546 3.382C1.673 9.559.003 12.147 0 15c0 .502.407.91.91.91.501 0 .908-.408.908-.91 0-3.012 2.442-5.455 5.455-5.455 3.012 0 5.454 2.443 5.454 5.455 0 .502.407.91.91.91.501 0 .908-.408.908-.91-.002-2.853-1.673-5.441-4.272-6.618zm-3-.655c-1.507 0-2.728-1.22-2.728-2.727 0-1.506 1.221-2.727 2.728-2.727C8.779 2.273 10 3.493 10 5c0 .723-.287 1.417-.799 1.928-.511.512-1.205.8-1.928.8zm8.854.291c1.189-1.338 1.481-3.25.747-4.882-.733-1.632-2.357-2.682-4.147-2.681-.502 0-.909.407-.909.909s.407.909.91.909c1.506 0 2.727 1.22 2.727 2.727-.003.972-.523 1.869-1.364 2.355-.274.158-.446.447-.455.763-.007.314.147.61.41.782l.354.236.118.064c2.238 1.061 3.656 3.324 3.637 5.8 0 .502.407.91.909.91s.909-.408.909-.91c.015-2.837-1.44-5.478-3.846-6.982z" transform="translate(-46 -377) translate(0 1) translate(46 141) translate(0 235)"/>
                                                            </g>
                                                        </g>
                                                    </g>
                                                </g>
                                            </g>
                                        </svg>
                                        <span class="menu-link-title">Characters</span>
                                    </a>

                                    <a :href="'/books/' + bookId + '/timeline'"
                                       :class="{ 'active': isUrlContain('timeline') }"
                                       class="menu-link w-48 group flex items-center px-2 py-2 focus:outline-none transition duration-75 ease-in-out">
                                        <svg class="mr-12 h-5 nav-sidebar__icon nav-sidebar__icon_fill transition duration-75 ease-in-out" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18">
                                            <g fill="none" fill-rule="evenodd">
                                                <g fill="#BEBDB8" fill-rule="nonzero">
                                                    <g>
                                                        <g>
                                                            <g>
                                                                <path d="M11.788 9.57L9.9 8.48V4.5c0-.497-.403-.9-.9-.9s-.9.403-.9.9V9c0 .322.171.619.45.78l2.338 1.35c.279.16.622.16.9 0 .28-.161.451-.458.45-.78 0-.322-.171-.619-.45-.78zM9 0C4.03 0 0 4.03 0 9s4.03 9 9 9 9-4.03 9-9c-.006-4.968-4.032-8.994-9-9zm0 16.2c-3.976 0-7.2-3.224-7.2-7.2S5.024 1.8 9 1.8s7.2 3.224 7.2 7.2c-.005 3.975-3.225 7.195-7.2 7.2z" transform="translate(-47 -455) translate(0 1) translate(46 141) translate(1 313)"/>
                                                            </g>
                                                        </g>
                                                    </g>
                                                </g>
                                            </g>
                                        </svg>
                                        <span class="menu-link-title">Events</span>
                                    </a>

<!--                                    <a href="#"-->
<!--                                       class="menu-link w-48 group flex items-center px-2 py-2 focus:outline-none transition duration-75 ease-in-out">-->
<!--                                        <svg class="mr-12 h-5 nav-sidebar__icon nav-sidebar__icon_fill transition duration-75 ease-in-out" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18">-->
<!--                                            <g fill="none" fill-rule="evenodd">-->
<!--                                                <g fill="#BEBDB8" fill-rule="nonzero">-->
<!--                                                    <g>-->
<!--                                                        <g>-->
<!--                                                            <g>-->
<!--                                                                <path d="M1.8 11.214c0-.497-.403-.9-.9-.9s-.9.403-.9.9v.9c0 .497.403.9.9.9h.9c.497 0 .9-.403.9-.9s-.403-.9-.9-.9zM5.562 1.8h1.89c.497 0 .9-.403.9-.9s-.403-.9-.9-.9h-1.89c-.497 0-.9.403-.9.9s.403.9.9.9zm5.652 0c0 .497.403.9.9.9s.9-.403.9-.9V.9c0-.497-.403-.9-.9-.9h-.9c-.497 0-.9.403-.9.9s.403.9.9.9zM1.8 0H.9C.403 0 0 .403 0 .9v.9c0 .497.403.9.9.9s.9-.403.9-.9c.497 0 .9-.403.9-.9S2.297 0 1.8 0zM.9 8.352c.497 0 .9-.403.9-.9v-1.89c0-.497-.403-.9-.9-.9s-.9.403-.9.9v1.89c0 .497.403.9.9.9zM12.438 16.2h-1.89c-.497 0-.9.403-.9.9s.403.9.9.9h1.89c.497 0 .9-.403.9-.9s-.403-.9-.9-.9zM17.1 4.986h-.9c-.497 0-.9.403-.9.9s.403.9.9.9c0 .497.403.9.9.9s.9-.403.9-.9v-.9c0-.497-.403-.9-.9-.9zm0 4.662c-.497 0-.9.403-.9.9v1.89c0 .497.403.9.9.9s.9-.403.9-.9v-1.89c0-.497-.403-.9-.9-.9zm-4.086-4.662c0-.497-.403-.9-.9-.9s-.9.403-.9.9H5.886c-.497 0-.9.403-.9.9v5.328c-.497 0-.9.403-.9.9s.403.9.9.9c0 .497.403.9.9.9s.9-.403.9-.9h5.328c.239 0 .468-.095.636-.264.17-.168.264-.397.264-.636V6.786c.497 0 .9-.403.9-.9s-.403-.9-.9-.9zm-1.8 6.228H6.786V6.786h4.428v4.428zM17.1 15.3c-.497 0-.9.403-.9.9-.497 0-.9.403-.9.9s.403.9.9.9h.9c.497 0 .9-.403.9-.9v-.9c0-.497-.403-.9-.9-.9zm-10.314.9c0-.497-.403-.9-.9-.9s-.9.403-.9.9v.9c0 .497.403.9.9.9h.9c.497 0 .9-.403.9-.9s-.403-.9-.9-.9z" transform="translate(-47 -532) translate(0 1) translate(46 141) translate(1 390)"/>-->
<!--                                                            </g>-->
<!--                                                        </g>-->
<!--                                                    </g>-->
<!--                                                </g>-->
<!--                                            </g>-->
<!--                                        </svg>-->
<!--                                        <span class="menu-link-title">Visual</span>-->
<!--                                    </a>-->

                                    <a :href="'/books/' + bookId + '/notes/group/general'"
                                       :class="{ 'active': isUrlContain('notes') }"
                                       class="menu-link w-48 group flex items-center px-2 py-2 focus:outline-none transition duration-75 ease-in-out">
                                        <svg class="mr-12 h-5 nav-sidebar__icon nav-sidebar__icon_fill transition duration-75 ease-in-out" xmlns="http://www.w3.org/2000/svg" width="17" height="18" viewBox="0 0 17 18">
                                            <g fill="none" fill-rule="evenodd">
                                                <g fill="#BEBDB8" fill-rule="nonzero">
                                                    <g>
                                                        <g>
                                                            <g>
                                                                <path d="M11.7 10.8H4.5c-.497 0-.9.403-.9.9s.403.9.9.9h7.2c.497 0 .9-.403.9-.9s-.403-.9-.9-.9zm0-3.6H6.3c-.497 0-.9.403-.9.9s.403.9.9.9h5.4c.497 0 .9-.403.9-.9s-.403-.9-.9-.9zm3.6-5.4h-2.7V.9c0-.497-.403-.9-.9-.9s-.9.403-.9.9v.9H9V.9c0-.497-.403-.9-.9-.9s-.9.403-.9.9v.9H5.4V.9c0-.497-.403-.9-.9-.9s-.9.403-.9.9v.9H.9c-.497 0-.9.403-.9.9v12.6C0 16.791 1.209 18 2.7 18h10.8c1.491 0 2.7-1.209 2.7-2.7V2.7c0-.497-.403-.9-.9-.9zm-.9 13.5c0 .497-.403.9-.9.9H2.7c-.497 0-.9-.403-.9-.9V3.6h1.8v.9c0 .497.403.9.9.9s.9-.403.9-.9v-.9h1.8v.9c0 .497.403.9.9.9s.9-.403.9-.9v-.9h1.8v.9c0 .497.403.9.9.9s.9-.403.9-.9v-.9h1.8v11.7z" transform="translate(-48 -611) translate(0 1) translate(46 141) translate(2 469)"/>
                                                            </g>
                                                        </g>
                                                    </g>
                                                </g>
                                            </g>
                                        </svg>
                                        <span class="menu-link-title">Notes</span>
                                    </a>

<!--                                    <a href="#"-->
<!--                                       class="menu-link w-48 group flex items-center px-2 py-2 focus:outline-none transition duration-75 ease-in-out">-->
<!--                                        <svg class="mr-12 h-5 nav-sidebar__icon nav-sidebar__icon_fill transition duration-75 ease-in-out" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20">-->
<!--                                            <g fill="none" fill-rule="evenodd">-->
<!--                                                <g fill="#BEBDB8" fill-rule="nonzero">-->
<!--                                                    <g>-->
<!--                                                        <g>-->
<!--                                                            <g>-->
<!--                                                                <path d="M18.336.964C17.685.85 17.025.794 16.364.79 14.108.789 11.899 1.436 10 2.655 8.096 1.452 5.888.82 3.636.836c-.66.003-1.32.06-1.972.173-.441.076-.761.462-.755.91v10.908c-.004.27.113.529.318.705.206.175.48.25.746.204 2.632-.455 5.336.17 7.5 1.737l.109.063h.1c.203.085.433.085.636 0h.1l.11-.063c2.148-1.601 4.854-2.264 7.5-1.837.266.046.539-.029.745-.204.205-.176.322-.434.318-.705V1.818c-.02-.427-.334-.782-.755-.854zM9.091 13.045C7.409 12.161 5.537 11.7 3.636 11.7h-.909V2.61c.303-.018.607-.018.91 0 1.939-.003 3.836.566 5.454 1.635v8.8zm8.182-1.309h-.91c-1.9 0-3.772.461-5.454 1.346V4.245c1.618-1.069 3.515-1.638 5.455-1.636.302-.017.606-.017.909 0v9.127zm1.063 3.773c-.651-.112-1.311-.17-1.972-.173-2.256-.001-4.465.645-6.364 1.864-1.899-1.219-4.108-1.865-6.364-1.864-.66.003-1.32.06-1.972.173-.24.038-.453.17-.595.366-.142.196-.2.44-.16.68.096.491.572.812 1.064.718 2.632-.456 5.336.17 7.5 1.736.315.225.739.225 1.054 0 2.164-1.566 4.868-2.192 7.5-1.736.492.094.968-.227 1.064-.718.04-.24-.018-.484-.16-.68-.142-.196-.356-.328-.595-.366z" transform="translate(-46 -689) translate(0 1) translate(46 141) translate(0 547)"/>-->
<!--                                                            </g>-->
<!--                                                        </g>-->
<!--                                                    </g>-->
<!--                                                </g>-->
<!--                                            </g>-->
<!--                                        </svg>-->
<!--                                        <span class="menu-link-title">Pitching</span>-->
<!--                                    </a>-->
                                </div>
                                <div class="flex-1 px-2 bg-semilight flex flex-col items-center nav-sidebar" v-else>
                                    <a href="/scriptorium"
                                       class="menu-link w-48 group flex items-center px-2 py-2 focus:outline-none transition duration-75 ease-in-out" :class="{ 'active': isUrlContain('scriptorium') }">
                                        <svg class="mr-12 h-5 nav-sidebar__icon nav-sidebar__icon_fill transition duration-75 ease-in-out" xmlns="http://www.w3.org/2000/svg" width="14" height="18" viewBox="0 0 14 18">
                                            <g fill="none" fill-rule="evenodd">
                                                <g fill="#BEBDB8" fill-rule="nonzero">
                                                    <g>
                                                        <g>
                                                            <path d="M12.25 0H3.5C1.567 0 0 1.612 0 3.6v10.8C0 16.388 1.567 18 3.5 18h8.75c.966 0 1.75-.806 1.75-1.8V1.8c0-.994-.784-1.8-1.75-1.8zM1.75 3.6c0-.994.784-1.8 1.75-1.8h8.75v9H3.5c-.617.003-1.222.177-1.75.504V3.6zM3.5 16.2c-.966 0-1.75-.806-1.75-1.8s.784-1.8 1.75-1.8h8.75v3.6H3.5zM5.25 5.4h3.5c.483 0 .875-.403.875-.9s-.392-.9-.875-.9h-3.5c-.483 0-.875.403-.875.9s.392.9.875.9z" transform="translate(-48 -201) translate(0 1) translate(48 200)"/>
                                                        </g>
                                                    </g>
                                                </g>
                                            </g>
                                        </svg>
                                        <span class="menu-link-title">Scriptorium</span>
                                    </a>
                                    <a href="/user/profile"
                                       class="menu-link mt-10 w-48 group flex items-center px-2 py-2 transition duration-75 ease-in-out" :class="{ 'active': isUrlContain('user/profile') }">
                                        <svg class="mr-12 h-5 nav-sidebar__icon nav-sidebar__icon_fill transition duration-75 ease-in-out" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18">
                                            <g fill="none" fill-rule="evenodd">
                                                <g fill="#4E4D4B" fill-rule="nonzero">
                                                    <g>
                                                        <g>
                                                            <path d="M6.75 7.65H9c.497 0 .9-.403.9-.9s-.403-.9-.9-.9h-.9V5.4c0-.497-.403-.9-.9-.9s-.9.403-.9.9v.495c-1.133.23-1.907 1.281-1.79 2.431.115 1.15 1.084 2.025 2.24 2.024h.9c.249 0 .45.201.45.45s-.201.45-.45.45H5.4c-.497 0-.9.403-.9.9s.403.9.9.9h.9v.45c0 .497.403.9.9.9s.9-.403.9-.9v-.495c1.133-.23 1.907-1.281 1.79-2.431-.115-1.15-1.084-2.025-2.24-2.024h-.9c-.249 0-.45-.201-.45-.45s.201-.45.45-.45zM17.1 9h-2.7V.9c.001-.323-.17-.622-.45-.783-.278-.16-.622-.16-.9 0l-2.7 1.548L7.65.117c-.278-.16-.622-.16-.9 0l-2.7 1.548L1.35.117c-.278-.16-.622-.16-.9 0C.17.278-.001.577 0 .9v14.4C0 16.791 1.209 18 2.7 18h12.6c1.491 0 2.7-1.209 2.7-2.7V9.9c0-.497-.403-.9-.9-.9zM2.7 16.2c-.497 0-.9-.403-.9-.9V2.457l1.8 1.026c.282.147.618.147.9 0l2.7-1.548 2.7 1.548c.282.147.618.147.9 0l1.8-1.026V15.3c.002.307.057.611.162.9H2.7zm13.5-.9c0 .497-.403.9-.9.9s-.9-.403-.9-.9v-4.5h1.8v4.5z" transform="translate(-48 -277) translate(0 1) translate(48 276)"/>
                                                        </g>
                                                    </g>
                                                </g>
                                            </g>
                                        </svg>
                                        <span class="menu-link-title">Account</span>
                                    </a>
                                </div>
                            </nav>
                        </div>
                    </div>
                    </div>


                    <div v-if="isUrlContain('notes') === false && isUrlContain('chapters') === false" class="overflow-hidden">
                    <div class="flex flex-col justify-center items-center mt-16 my-8" v-if="!isBookMenu && !isMenuHide">
                        <div class="leave-feedback">
                            <div class="leave-feedback__label">Write your feeback</div>
                            <textarea ref="feedback_message" class="leave-feedback__field custom-scroll input-default input-default_border-none input-default_border-hover-none w-full mb-8" rows="3" placeholder="Enter Message"></textarea>
                        </div>
                        <button class="-mt-4 button rounded-lg bg-dark px-10 py-3 fs-15 text-white cursor-pointer" @click="sendFeedback()">Send Feedback</button>
                    </div>

                    <div v-if="isBookMenu && isUrlContain('chapters') === false" class="text-center flex-shrink-0 flex justify-center">
                        <a v-if="isMenuHide == true" :href="'/books/' + bookId + '/chapters'" class="button rounded-full bg-dark px-4 py-4 font-semibold text-white" :class="{'mb-6': isMenuHide == true}">
                            <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 14 14">
                                <g fill="none" fill-rule="evenodd">
                                    <g fill="#FFF">
                                        <g>
                                            <g>
                                                <g>
                                                    <path d="M12.44 6.14h-4.2v-4.2c0-.579-.47-1.05-1.05-1.05-.579 0-1.05.471-1.05 1.05v4.2h-4.2c-.579 0-1.05.471-1.05 1.05 0 .58.471 1.05 1.05 1.05h4.2v4.2c0 .58.471 1.05 1.05 1.05.58 0 1.05-.47 1.05-1.05v-4.2h4.2c.58 0 1.05-.47 1.05-1.05 0-.579-.47-1.05-1.05-1.05z" transform="translate(-47 -827) translate(29 809) translate(18 18)"/>
                                                </g>
                                            </g>
                                        </g>
                                    </g>
                                </g>
                            </svg>
                        </a>
                        <a v-else :href="'/books/' + bookId + '/chapters'" class="mt-6 button rounded-lg bg-dark px-12 py-3 font-semibold text-white fs-14">Write Story</a>
                    </div>

                    <div class="flex-shrink-0 flex mt-4 pt-4 pb-8" :class="{'px-13': isMenuHide == false, 'px-9': isMenuHide == true}">
                        <a href="/user/profile" class="flex-shrink-0 group block focus:outline-none overflow-hidden">
                            <div class="flex items-center">
                                <div>
                                    <img class="inline-block h-9 w-9 rounded-full"
                                         :src="$page.user.profile_photo_url"
                                         alt=""/>
                                </div>
                                <div class="ml-6 flex flex-col justify-center" v-if="isMenuHide == false">
                                    <p v-if="$page.user.pen_name" class="text-md leading-5 font-semibold text-color-dark">
                                        {{ $page.user.pen_name }}
                                    </p>
                                    <p v-else class="text-md leading-5 font-semibold text-color-dark">
                                        {{ $page.user.name }}
                                    </p>
                                    <form @submit.prevent="logout">
                                        <button type="submit"
                                                class="mt-1 group flex items-center leading-5 font-medium text-color-inactive hover:text-color-active rounded-md focus:outline-none transition ease-in-out duration-75">
                                            Log out
                                        </button>
                                    </form>
                                </div>
                            </div>
                        </a>
                    </div>
                </div>
            </div>
        </div>

<!--        Nav header for mobile-->
        <div class="flex overflow-y-auto flex-col w-0 flex-1 overflow-hidden" >
<!--            <div class="md:hidden pl-1 pt-1 sm:pl-3 sm:pt-3">-->
<!--                <button @click.stop="sidebarOpen = true"-->
<!--                        class="-ml-0.5 -mt-0.5 h-12 w-12 inline-flex items-center justify-center rounded-md text-gray-500 hover:text-gray-900 focus:outline-none focus:bg-gray-200 transition ease-in-out duration-75">-->
<!--                    <svg class="h-6 w-6" stroke="currentColor" fill="none" viewBox="0 0 24 24">-->
<!--                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"-->
<!--                              d="M4 6h16M4 12h16M4 18h16"/>-->
<!--                    </svg>-->
<!--                </button>-->
<!--            </div>-->
            <main class="flex-1 relative z-0 pt-2 pb-6 focus:outline-none md:py-0" tabindex="0">
                <slot></slot>
            </main>
        </div>

        <portal-target name="modal"></portal-target>
        <portal-target name="modal_second"></portal-target>

        <slot name="modals"></slot>
    </div>
</template>

<script>
import JetApplicationLogo from './../Jetstream/ApplicationLogo'
import JetApplicationMark from './../Jetstream/ApplicationMark'
import JetDropdown from './../Jetstream/Dropdown'
import JetDropdownLink from './../Jetstream/DropdownLink'
import JetNavLink from './../Jetstream/NavLink'
import JetResponsiveNavLink from './../Jetstream/ResponsiveNavLink'
import Button from "../Jetstream/Button";
import NotesMenu from "./Menu/NotesMenu";
import WritingMenu from "./Menu/WritingMenu";
import Vue from "vue";

export default {
    components: {
        WritingMenu,
        NotesMenu,
        Button,
        JetApplicationLogo,
        JetApplicationMark,
        JetDropdown,
        JetDropdownLink,
        JetNavLink,
        JetResponsiveNavLink,
    },

    props: {
        'after_body_class': {
            default: null,
        },
    },

    data() {
        return {
            showingNavigationDropdown: false,
            isBookMenu: false,
            bookId: null,
            isMenuHide: (localStorage.getItem('isMenuHide') == "true"),
        }
    },

    mounted() {
        console.log('mounted data isMenuHide', this.isMenuHide);
        if (window.location.href.indexOf("books") > -1) {
            this.isBookMenu = true;
            this.bookId = window.location.pathname.split('/')[2];
        }
    },

    methods: {
        hideMenu(value) {
            this.isMenuHide = value;

            // localStorage.removeItem('isMenuHide');
            localStorage.setItem('isMenuHide', value);

            console.log('local hide menu change', localStorage.isMenuHide);
        },

        isUrlContain(value) {
            return window.location.pathname.indexOf(value) > -1;
        },

        switchToTeam(team) {
            this.$inertia.put('/current-team', {
                'team_id': team.id
            }, {
                preserveState: false
            })
        },

        sendFeedback() {
            axios.post('/send-feedback', {
                message: this.$refs.feedback_message.value,
            }).then(() => {
                this.$refs.feedback_message.value = null;
                Vue.swal('Send Feedback', '', 'success');
            }).catch((error) => {
                Vue.swal('Send Feedback', 'Some error', 'error');
            });
        },

        logout() {
            axios.post('/logout').then(response => {
                window.location = '/';
            })
        },

        clickMainContainer() {

        },
    },

    computed: {
        path() {
            return window.location.pathname
        }
    }
}
</script>
